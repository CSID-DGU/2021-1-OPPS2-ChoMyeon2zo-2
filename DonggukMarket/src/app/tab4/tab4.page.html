<ion-header [translucent]="true">
  <ion-toolbar color='dark'>
    <ion-title><b expand="full">채팅</b></ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="wrap" *ngIf="userid==null">
    <ion-app>
      <ion-content class="main" >
        <section>
          <br>
        <ion-img src='assets/main_img.png' style='width:100%;height:100%'></ion-img>
      </section>
      <br>
    
        <section>
          <ion-button [routerLink]="['/sign']" expand="block" color="light">회원가입</ion-button>
        </section>
       <br>
        <section>
          <ion-button [routerLink]="['/login']" expand="block" color="light">로그인</ion-button>
        </section>
        <br>
        <section>
          <ion-button [routerLink]="['/find']" expand="block" color="light">ID/PW 찾기</ion-button>
        </section>
    
      </ion-content>
    </ion-app>
  </div>
  <div *ngIf="userid!=null">
  <ion-list>
    <br>
    <div class="chatting" *ngFor="let chatting of chattingRef | async">
      <div  class="you" ion-item *ngIf="userid==current user"> <!--chatting.uid1-->
          {{chatting.uid2}}
          <span style="float:right">
            <ion-button color='dark' (click)="openChat(chatting.uid2)">
              <ion-icon name="arrow-forward"></ion-icon>
            </ion-button>
          </span>
      </div>
      <div  class="you" ion-item *ngIf="userid==chatting.uid2">
          {{chatting.uid1}}
          <span style="float:right">
            <ion-button color='dark' (click)="openChat(chatting.uid1)">
              <ion-icon name="arrow-forward"></ion-icon>
            </ion-button>
          </span>
      </div>
    </div>
  </ion-list>
</div>
</ion-content>
